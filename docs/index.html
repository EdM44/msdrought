<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Seasonal Mid-Summer Drought Characteristics • msdrought</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Seasonal Mid-Summer Drought Characteristics">
<meta name="description" content="Characterization of a mid-summer drought (MSD) with precipitation based statistics. The MSD is a phenomenon of decreased rainfall during a typical rainy season. It is a feature of rainfall in much of Central America and is also found in other locations, typically those with a Mediterranean climate. Details on the metrics are in Maurer et al. (2022) &lt;doi:10.5194/hess-26-1425-2022&gt;.">
<meta property="og:description" content="Characterization of a mid-summer drought (MSD) with precipitation based statistics. The MSD is a phenomenon of decreased rainfall during a typical rainy season. It is a feature of rainfall in much of Central America and is also found in other locations, typically those with a Mediterranean climate. Details on the metrics are in Maurer et al. (2022) &lt;doi:10.5194/hess-26-1425-2022&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">msdrought</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/average-daily.html">average-daily</a></li>
    <li><a class="dropdown-item" href="articles/raster-sample.html">raster-sample</a></li>
    <li><a class="dropdown-item" href="articles/Sample-Walkthrough.html">sample-walkthrough</a></li>
    <li><a class="dropdown-item" href="articles/vector-from-raster.html">vector-from-raster</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/EdM44/msdrought/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="msdrought">msdrought<a class="anchor" aria-label="anchor" href="#msdrought"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The msdrought R package contains functions for calculating characteristics of a mid-summer drought (MSD), a phenomenon of decreased rainfall during a typical rainy season. The MSD is a feature of rainfall in much of Central America, but is also found in other locations, typically those with a Mediterranean climate. The details are described in “The Mesoamerican mid-summer drought: the impact of its definition on occurrences and recent changes”, HESS, Maurer et al. (2022) ‘<a href="https://hess.copernicus.org/articles/26/1425/2022/" class="external-link uri">https://hess.copernicus.org/articles/26/1425/2022/</a>’.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the msdrought package from <a href="https://cran.r-project.org/" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"msdrought"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>These are the steps required to create useful MSD data:</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Begin with a xts or spatraster of precipitation data over time.</strong></p>
<p>Please view the sample-walkthrough or the raster-sample vignettes for information on how to properly format the data and how to proceed with utilizing this package.</p>
</li>
<li>
<p><strong>Filter this data using the msdFilter function.</strong></p>
<p>A bartlett noise filter is applied to the data in order to smooth the precipitation data over time via weighted average</p>
</li>
<li>
<p><strong>Use the msdDates function to extract relevant dates for the calculations.</strong></p>
<p>There are two sets of necessary dates when calculating the MSD statistics: the critical periods and the start and end of the year. This function determines both and stores them as a single vector. The following function (msdStats) breaks the two types of dates apart, so it is important to not change the output of the msdDates function before feeding it into the subsequent msd function.</p>
</li>
<li>
<p><strong>Supply the msdStats function with precipitation data, the data from msdDates, and a selected parameter to calculate.</strong></p>
<p>The precipitation data must be filtered using the msdFilter function. In order for this function to provide useful data, the input from msdDates must be unchanged from its original output. The following parameters are applicable to the MSD calculation: duration, intensity, firstMaxValue, secondMaxValue, min, and mindex.</p>
</li>
<li>
<p><strong>Alternatively, use the msdMain function to calculate every relevant statistics related to the MSD phenomenon</strong></p>
<p>The msdMain function runs the msdStats function for every parameter and every year. This output is much more comprehensive if you are looking to characterize multiple years of data, or are just wanting to understand one year’s parameters all at once.</p>
</li>
<li>
<p><strong>Create a plot of one year of rainfall data to visualize the MSD phenomenon and its parameters</strong></p>
<p>Using the msdGraph function, a visual plot of the filtered rainfall data, its key dates, and the peaks and valleys used to characterize the drought can be created.</p>
</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/EdM44/msdrought/" class="external-link">msdrought</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joshuaulrich.github.io/xts/" class="external-link">xts</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: zoo</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'zoo'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     as.Date, as.Date.numeric</span></span>
<span><span class="co">#------------------------------------------------------------------------------------------------------------------------------</span></span>
<span><span class="co"># Load in the data that will be analyzed.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"timeseries"</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xts/man/as.xts.html" class="external-link">as.xts</a></span><span class="op">(</span><span class="va">timeseries</span><span class="op">)</span></span>
<span><span class="co">#------------------------------------------------------------------------------------------------------------------------------</span></span>
<span><span class="co"># msdDates &lt;- (times, peakWindow1 = "05-01", minWindow1 = "06-01", minWindow2 = "08-31", peakWindow2 = "10-31")</span></span>
<span><span class="va">keyDatesTS</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdDates.html">msdDates</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html" class="external-link">time</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#------------------------------------------------------------------------------------------------------------------------------</span></span>
<span><span class="co"># msdFilter &lt;- msdFilter(x, window = 31, quantity = 2)</span></span>
<span><span class="va">filterTS</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdFilter.html">msdFilter</a></span><span class="op">(</span><span class="va">x</span>, window <span class="op">=</span> <span class="fl">31</span>, quantity <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#------------------------------------------------------------------------------------------------------------------------------</span></span>
<span><span class="co"># msdStats &lt;- msdStats(x, dates, fcn)</span></span>
<span><span class="va">duration</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdStats.html">msdStats</a></span><span class="op">(</span><span class="va">filterTS</span>, <span class="va">keyDatesTS</span>, fcn <span class="op">=</span> <span class="st">"duration"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'quantmod':</span></span>
<span><span class="co">#&gt;   method            from</span></span>
<span><span class="co">#&gt;   as.zoo.data.frame zoo</span></span>
<span><span class="va">intensity</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdStats.html">msdStats</a></span><span class="op">(</span><span class="va">filterTS</span>, <span class="va">keyDatesTS</span>, fcn <span class="op">=</span> <span class="st">"intensity"</span><span class="op">)</span></span>
<span><span class="va">firstMaxValue</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdStats.html">msdStats</a></span><span class="op">(</span><span class="va">filterTS</span>, <span class="va">keyDatesTS</span>, fcn <span class="op">=</span> <span class="st">"firstMaxValue"</span><span class="op">)</span></span>
<span><span class="va">secondMaxValue</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdStats.html">msdStats</a></span><span class="op">(</span><span class="va">filterTS</span>, <span class="va">keyDatesTS</span>, fcn <span class="op">=</span> <span class="st">"secondMaxValue"</span><span class="op">)</span></span>
<span><span class="va">min</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdStats.html">msdStats</a></span><span class="op">(</span><span class="va">filterTS</span>, <span class="va">keyDatesTS</span>, fcn <span class="op">=</span> <span class="st">"min"</span><span class="op">)</span></span>
<span><span class="co">#------------------------------------------------------------------------------------------------------------------------------</span></span>
<span><span class="co"># msdMain &lt;- msdMain(x, firstStartDate, firstEndDate, secondStartDate, secondEndDate, window, quantity)</span></span>
<span><span class="va">allStats</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdMain.html">msdMain</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#------------------------------------------------------------------------------------------------------------------------------</span></span>
<span><span class="co"># msdGraph &lt;- msdGraph(x, year, firstStartDate, firstEndDate, secondStartDate, secondEndDate, window, quantity)</span></span>
<span><span class="va">graph1981</span> <span class="op">&lt;-</span> <span class="fu">msdrought</span><span class="fu">::</span><span class="fu"><a href="reference/msdGraph.html">msdGraph</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1981</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">graph1981</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=msdrought" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/EdM44/msdrought/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/EdM44/msdrought/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing msdrought</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Turner Uyeda <br><small class="roles"> Author </small>  </li>
<li>Ed Maurer <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li>Iris Stewart-Frey <br><small class="roles"> Author </small>  </li>
<li>Kenneth Joseph <br><small class="roles"> Author </small>  </li>
<li>Alex Avila <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Turner Uyeda, Ed Maurer, Iris Stewart-Frey, Kenneth Joseph, Alex Avila.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
